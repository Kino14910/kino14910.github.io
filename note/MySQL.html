<!doctype html>
<html>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>

<link href='https://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext' rel='stylesheet' type='text/css' />
<link rel="stylesheet" href="../styles/typora-common.css">
<title>MySQL</title>
</head>
<body class='typora-export os-windows'><div class='typora-export-content'>
<div id='write'  class=''><p><span>数据定义：CREATE,DROP,ALTER</span>
<span>数据操纵：INSERT,UPDATE,DELETE</span>
<span>数据控制：GRANT,REVOKE</span>
<span>DISTINCT   去除重复项（可接在SELECT之后或者properties之前)</span></p><p><span>ALTER语法：</span>
<code>ALTER TABLE (ADD,DROP,MODIFY,CHANGE)</code></p><p><span>INSERT语法:</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="mysql"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="mysql"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.51562px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">INSERT</span> <span class="cm-keyword">INTO</span> <span class="cm-keyword">TABLE</span> <span class="cm-bracket">[</span><span class="cm-keyword">column</span><span class="cm-bracket">]</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">VALUES</span><span class="cm-bracket">(</span><span class="cm-keyword">values</span><span class="cm-bracket">)</span>`<span class="cm-variable-2">``</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 46px;"></div><div class="CodeMirror-gutters" style="display: none; height: 46px;"></div></div></div></pre><p><span>UPDATE语法：</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="mysql"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="mysql"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.51562px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">UPDATE</span> <span class="cm-keyword">table</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">SET</span> value1 <span class="cm-operator">=</span> value2</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">WHERE</span> <span class="cm-keyword">condition</span><span class="cm-punctuation">;</span>`<span class="cm-variable-2">``</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 69px;"></div><div class="CodeMirror-gutters" style="display: none; height: 69px;"></div></div></div></pre><p><span>DELETE语法：</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="mysql"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="mysql"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.51562px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">DELETE</span> <span class="cm-keyword">FROM</span> <span class="cm-keyword">table</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">WHERE</span> <span class="cm-keyword">condition</span>`<span class="cm-variable-2">``</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 46px;"></div><div class="CodeMirror-gutters" style="display: none; height: 46px;"></div></div></div></pre><p><span>格式：</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="mysql"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="mysql"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.51562px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">SELECT</span> column_name<span class="cm-bracket">(</span>s<span class="cm-bracket">)</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">FROM</span> <span class="cm-keyword">table_name</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">WHERE</span> <span class="cm-keyword">condition</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">GROUP</span> <span class="cm-keyword">BY</span> column_name<span class="cm-bracket">(</span>s<span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">HAVING</span> condtion</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">ORDER</span> <span class="cm-keyword">BY</span> column_name<span class="cm-bracket">(</span>s<span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">LIMIT</span> <span class="cm-keyword">start</span> rows<span class="cm-punctuation">;</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">-- 从start行开始，显示rows列</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 161px;"></div><div class="CodeMirror-gutters" style="display: none; height: 161px;"></div></div></div></pre><p><span>ORDER BY 指定排序的列，排序的列既可以是表中的列名，也可以是select语句后指定的列名。</span>
<span>LIMIT 显示的行数，第一个参数是起始行数（从0开始），是第二个参数是显示的行数。</span>
<span>Asc 升序[默认]、Desc 降序</span>
<strong><span>[重要]</span></strong><span>ORDER BY子句应位于SELECT语句的结尾</span></p><p><span>对姓韩的学生成绩[总分]排序输出(升序）where +order by</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="mysql"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="mysql"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.51562px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">SELECT</span> name <span class="cm-bracket">(</span>chinese <span class="cm-operator">+</span> english <span class="cm-operator">+</span> math<span class="cm-bracket">)</span> <span class="cm-keyword">AS</span> total_score <span class="cm-keyword">FROM</span> student</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">WHERE</span> name</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">ORDER</span> <span class="cm-keyword">BY</span> <span class="cm-bracket">(</span>chinese <span class="cm-operator">+</span> english<span class="cm-operator">+</span> math<span class="cm-bracket">)</span><span class="cm-punctuation">;</span> <span class="cm-operator">--</span>可以替换成total_score</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 69px;"></div><div class="CodeMirror-gutters" style="display: none; height: 69px;"></div></div></div></pre><p><span>COUNT：计算有列几行（排除为NULL的元素）</span>
<span>SELECT COUNT(column) FROM table</span></p><p><span>运算符：</span>
<span>&gt;</span><span> &lt; &lt;= &gt;=</span>
<span>等于  =</span>
<span>不等于  &lt;&gt;  !=</span>
<span>BETWEEN  ...  AND  ...</span>
<span>IN(set)</span>
<span>LIKE &#39;张pattern&#39;</span>
<span>NOT LIKE</span>
<span>IS NULL</span></p><p><span>AND</span>
<span>OR</span>
<span>NOT</span></p><p><span>数学函数：</span>
<span>SUM</span>
<span>AVG</span>
<span>MAX</span>
<span>MIN</span></p><p><span>流程控制函数：</span>
<code>IF(comm IS NULL , 0.0, comm)</code>
<code>IFNULL(comm, 0.0)</code>
<code>SELECT CASE</code>
<code>WHEN a THEN b</code>
<code>WHEN c THEN d</code>
<code>END;</code></p><p>&nbsp;</p><p><img src="D:\MobileFile\Screenshot_2023-05-09-22-02-52-683_tv.danmaku.bil.jpg" referrerpolicy="no-referrer" alt="Screenshot_2023-05-09-22-02-52-683_tv.danmaku.bil"></p><p><span>雇员名，雇员工资 来自 emp表，部门的名字 来自 dept表，需要对 emp和 dept查，指定显示某个表的列时，使用表.列表</span></p><p><code>ename,sal,dname,deptno</code>
<code>SELECT ename,sal,dname,emp.deptno</code>
<code>FROM emp,dept</code>
<code>WHERE emp.deptno = dept.deptno</code></p><p>&nbsp;</p><p><span>MySQL中的逻辑运算符为</span></p><p><span>AND</span><span>	</span><span>OR</span><span>	</span><span>NOT</span></p><p>&nbsp;</p><p><code>truncate()</code><span>函数用于截断数字到指定的小数位数，不进行四舍五入。</span>
<code>format()</code><span>函数用于格式化数字，它会四舍五入数字并在千位上添加逗号。</span></p><p><code>SELECT TRUNCATE(123456.367, 2); -- 123456.36</code>
<code>SELECT FORMAT(123456.367, 2); -- 123,456.37</code></p><p>&nbsp;</p><p><span>外键指向的表的字段，要求是primary key 或者是unique</span>
<span>innodb类型的表才支持外键</span>
<span>外键字段的类型要和主键字段的类型一致（长度可以不同)外键字段的值，必须在主键字段中出现过，或者为null</span>
<span>一旦建立主外键的关系，数据不能随意删除了</span></p><p><span>自增长：</span>
<span>要和 PRIMARY KEY 或者 UNIQUE 配合使用</span>
<span>修改初始值为2：</span>
<code>ALTER TABLE table AUTO_INCREMENT = 2;</code></p><p>&nbsp;</p><p><span>创建索引规则：</span></p><ol start='' ><li><p><span>较为频繁的查询</span></p></li><li><p><span>不经常更新</span></p></li><li><p><span>要有唯一性（性别查询不适合作为索引）</span></p></li><li><p><span>字段会出现在WHERE子句中的</span></p></li></ol></div></div>
</body>
</html>